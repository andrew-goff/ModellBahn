<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>	
	<link href= "css/site.css" rel="stylesheet"/>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
	<script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
	<script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js">	</script>
	<script type="text/javascript">
		function getData()	{
			  $.getJSON(window.location.protocol + "//" + window.location.host + "/ModellBahn/api/decoder",
				{
				},
				function (data, status)
				{
					var table = document.createElement("DecoderListing");
					table.setAttribute("border", "1.5");
					
					var heading = document.createElement("tr");
					
					var th = document.createElement("th");
					th.textContext = "Decoder ID";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Hersteller";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Bestell Nr";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Description";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Fahrstufe";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Addressen";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "X";
					heading.appendChild(th);
					
					table.appendChild(heading);
					
					for (i = 0; i < data.length; i++)
					{
						var tr = document.createElement("tr");
						
						var td = document.createElement("td");
						td.textContext = data[i].Decoder_ID;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].Hersteller;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].BestellNr;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].Description;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].Fahrstufe;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].Adressen;
						tr.appendChild(td);
						
						td = document.createElement("td");
						
						var del = data[i].links.find(function(element) {
							return element.method == "DELETE"
						});
						var a = document.createElement("a");
						a.appendChild(document.createTextNode("X"));
						
						td.append(a);
						a.title = del.rel;
						a.href = del.href;
						tr.appendChild(td);
						
						table.appendChild(tr);
					}
				
				document.getElementById("DecoderListing").appendChild(table);
			}
		);
	};
	</script>
	<title>Decoder list</title>
</head>
<body onload="javascript:getData()">
	<h1>Decoder</h1>

	<h2>Available Decoder:</h2>
	<p>
	Needs to be a parent child edit form similar to decoder decoderTyp but with filtering (in fact filtering in general and printing is required
	</p>
	<div id="Decoderlisting">
	</div>
	<p>
		<a href="home.html" class="btn btn-info btn-sm">Home</a>
		<a href="decoderTyp.html" class="btn btn-info btn-sm">DecoderType JSON List</a> 
		<a href='decoderTypen.html' class="btn btn-info btn-sm">decoderTypen JSON List</a>
	</p>
	
	<div id="links">
	</div>
	
	<div id="footer">
		<hr class="highlight" />
		<p>Copyright &copy; 2018 ModellBahn Website</p>
	</div>
</body>
</html>