<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>	
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
	<script type="text/javascript" src="js/lib/popper.min-1.14.3.js"></script>
	<script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js">	</script>
	<link rel="stylesheet" href="css/bootstrap.min-4.1.3.css"/>
	<script type="text/javascript" src="js/lib/bootstrap.min-4.1.3.js"></script>
	<link rel="stylesheet" href="css/site.css"/>
	<script type="text/javascript" src="js/utils.js"></script>
	<script type="text/javascript" src="js/maintenance.js">
	</script>
	<script type="text/javascript">
		function getData()	{
			  $.getJSON(window.location.protocol + "//" + window.location.host + "/ModellBahn/api/aufbau",
				{
				},
				function (data, status)
				{
					var table = document.createElement("aufbaulisting");
					table.setAttribute("border", "1.5");
					
					var heading = document.createElement("tr");
					
					var th = document.createElement("th");
					th.textContext = "ID";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Name";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Description";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Deleted";
					heading.appendChild(th);
					
					th = document.createElement("th");
					th.textContext = "Links";
					heading.appendChild(th);					
					
					th = document.createElement("th");
					th.textContext = "X";
					heading.appendChild(th);
					
					table.appendChild(heading);
					
					for (i = 0; i < data.length; i++)
					{
						var tr = document.createElement("tr");
						
						var td = document.createElement("td");
						td.textContext = data[i].id;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].name;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].description;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].deleted;
						tr.appendChild(td);
						
						td = document.createElement("td");
						td.textContext = data[i].links;
						tr.appendChild(td);
												
						td = document.createElement("td");
						
						var del = data[i].links.find(function(element) {
							return element.method == "DELETE"
						});
						var a = document.createElement("a");
						a.appendChild(document.createTextNode("X"));
						
						td.append(a);
						a.title = del.rel;
						a.href = del.href;
						tr.appendChild(td);
						
						table.appendChild(tr);
					}
				
				document.getElementById("aufbaulisting").appendChild(table);
			}
		);
	};
	</script>
	<title>Aufbau JSON list</title>
</head>
<body onload="javascript:getData()">
	<section>
		<header>
			<hr class="highlight" />
			
			<nav>
				<a class="btn btn-info btn-sm" href="../index.html" >Home</a>
				<a class="btn btn-info btn-sm" href="artikel.html">Artikel JSON List</a>
				<a class="btn btn-info btn-sm" href="antrieb.html">Antrieb JSON List</a>			
				<a class="btn btn-info btn-sm" href="decoders.html">Decoder JSON List</a> 
				<a class="btn btn-info btn-sm" href="Decoder.html">Decoder JSON List</a> 
				<a class="btn btn-info btn-sm" href="decoderTyp.html">DecoderType JSON List</a> 
				<a class="btn btn-info btn-sm" href='decoderTypen.html'>decoderTypen JSON List</a>
				<a class="btn btn-info btn-sm" href="licht.html">Licht JSON List</a>	
			</nav>
		</header>
		
		<article>
			<h1>Aufbau</h1>
		</article>
		
		<div id="data">
			<div id="aufbaulisting"></div>
		</div>	
	</section>
	
	<embed src="footer.html" type="text/html" />
</body>
</html>