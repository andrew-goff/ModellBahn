<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>	
	<link href= "css/site.css" rel="stylesheet"/>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
	<script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
	<script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js">	</script>
	<script type="text/javascript">
		function getData() {
			/* Script to call userHome.php with userID using jQuery and print the response as a table in div books
			 * https://www.html5andbeyond.com/jquery-ajax-json-php/
			 * http://labs.jonsuh.com/jquery-ajax-php-json/
			 * http://api.jquery.com/jquery.post/
			 */
			$.getJSON(window.location.protocol + "//" + window.location.host + "/ModellBahn/api/decoderTyp", 
				{
				},
				function (data, status){
					var table = document.createElement("listing");
					table.setAttribute("border", "1.5");

					var heading = document.createElement("tr");

					var th = document.createElement("th");
					th.textContent = "Hersteller";
					heading.appendChild(th);

					th = document.createElement("th");
					th.textContent = "Bestell Nr";
					heading.appendChild(th);

					th = document.createElement("th");
					th.textContent = "Protokoll";
					heading.appendChild(th);

					th = document.createElement("th");
					th.textContent = "Konfiguration";
					heading.appendChild(th);

					th = document.createElement("th");
					th.textContent = "Sound";
					heading.appendChild(th);

					th = document.createElement("th");
                    th.textContent = "X";
                    heading.appendChild(th);

					table.appendChild(heading);

					for (i = 0; i < data.length; i++) {
						var tr = document.createElement("tr");
		                  
						var td = document.createElement("td");
						td.textContent = data[i].hersteller;
						tr.appendChild(td);

						td = document.createElement("td");
						td.textContent = data[i].bestellNr;
						tr.appendChild(td);

						td = document.createElement("td");
						td.textContent = data[i].protokoll;
						tr.appendChild(td);

						td = document.createElement("td");
						td.textContent = data[i].konfiguration;
						tr.appendChild(td);

						td = document.createElement("td");
						td.textContent = data[i].sound;

                        td = document.createElement("td");

                        var del = data[i].links.find(function(element) { return element.method == "DELETE"; });
                        var a = document.createElement("a");
                        a.appendChild(document.createTextNode("X"));
                        a.title = del.rel;
                        a.href = del.href;
                        td.append(a);

						tr.appendChild(td);

						table.appendChild(tr);
					}

					document.getElementById("listing").appendChild(table);
				}
			);
		};
	</script>
	<title>Decoder Typ List</title>
</head>
<body onload="javascript:getData()">
	<h1>Decoder Typ</h1>

	<h2>Available Decoder Typ:</h2>
	
	<div id="listing">
	</div>
	<p>
		<a class="btn btn-info btn-sm" href='ebook_home.html'>Home</a>  
		<a class="btn btn-info btn-sm" href="search.html">Search for an eBook</a> 
		<a class="btn btn-info btn-sm" href='ebook_rating_view.html'>View an eBook Rating</a>
		<a class="btn btn-info btn-sm" href='ebook_account.html'>Account Login</a>
	</p>
	
	<div id="links">
	</div>
	
	<div id="footer">
		<hr class="highlight" />
		<p>Copyright &copy; 2018 ModellBahn Website</p>
	</div>
</body>
</html>
