<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="x-ua-compatible" content="ie=edge">
<script type="text/javascript" src="js/lib/jquery-3.3.1.js"></script>
<script type="text/javascript" src="js/lib/popper.min-1.14.3.js"></script>
<link rel="stylesheet" href="css/bootstrap.min-4.1.3.css"/>
<script type="text/javascript" src="js/lib/bootstrap.min-4.1.3.js"></script>
<link rel="stylesheet" href="css/site.css"/>
<script type="text/javascript" src="js/dropdown.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/maintenance.js"></script>
<script type="text/javascript">
var fetchUrl = fetchUrl("decoderTyp");
var hersteller = new DropDown(apiRoot() + "hersteller", [ "name" ], [ "name" ]);
var protokoll = new DropDown(apiRoot() + "protokoll", [ "name" ], [ "name" ]);
var konfiguration = new DropDown(apiRoot() + "enums/konfiguration", [ "name" ], [ "name" ]);
var adressTyp = new DropDown(apiRoot() + "enums/adressTyp", [ "name" ], [ "name" ]);
var adressen = new ItemGrid(2, undefined, "adressen", [
    new NumberColumn("Index", "index", Editable.ADD, true, 3, 0),
    new SelectColumn("Typ", "adressTyp", adressTyp, Editable.UPDATE, true),
    new NumberColumn("Span", "span", Editable.UPDATE, true, 16, 1),
    new NumberColumn("Werkseinstellung", "werkseinstellung", Editable.UPDATE, true, 65535, 1),
    new ButtonColumn([new HeaderLinkage("add", "adressen.addRow()")],
            [new FunctionLinkage("update", "adressen.updateRow(this.value)"), 
             new FunctionLinkage("delete", "adressen.deleteRow(this.value)")])],
    false, EditMode.ADD, undefined);
var cvs = new ItemGrid(10, undefined, "cvs", [
    new NumberColumn("CV", "cv", Editable.ADD, true, 127, 1),
    new TextColumn("Bezeichnung", "description", Editable.UPDATE, false, 50),
    new NumberColumn("Werkseinstellung", "werkseinstellung", Editable.UPDATE, false, 65535, 1),
    new ButtonColumn([new HeaderLinkage("add", "cvs.addRow()")],
            [new FunctionLinkage("update", "cvs.updateRow(this.value)"), 
             new FunctionLinkage("delete", "cvs.deleteRow(this.value)")])],
    false, EditMode.ADD, undefined);
var funktionen = new ItemGrid(10, undefined, "funktionen", [
    new NumberColumn("Reihe", "bank", Editable.ADD, true, 1, 0),
    new TextColumn("Funktion", "funktion", Editable.ADD, true, 3),
    new TextColumn("Bezeichnung", "description", Editable.UPDATE, true, 50),
    new BoolColumn("Programmable", "programmable", Editable.UPDATE, true),
    new ButtonColumn([new HeaderLinkage("add", "funktionen.addRow()")],
            [new FunctionLinkage("update", "funktionen.updateRow(this.value)"), 
             new FunctionLinkage("delete", "funktionen.deleteRow(this.value)")])],
    false, EditMode.ADD, undefined);
var decoderTyp = new ItemGrid(1, fetchUrl, "decoderTyp", [
    new SelectColumn("Hersteller", "hersteller", hersteller, Editable.ADD, true),
    new TextColumn("Bestell Nr", "bestellNr", Editable.ADD, true, 10),
    new TextColumn("Bezeichnung", "description", Editable.UPDATE, false, 50),
    new SelectColumn("Protokoll", "protokoll", protokoll, Editable.UPDATE, true),
    new NumberColumn("Fahrstufe", "fahrstufe", Editable.UPDATE, false, 127, 1),
    new BoolColumn("Sound", "sound", Editable.UPDATE, true),
    new NumberColumn("I Max", "iMax", Editable.UPDATE, false, 1000, 1),
    new SelectColumn("Konfiguration", "konfiguration", konfiguration, Editable.UPDATE, true),
    new ButtonColumn([],
            [new FunctionLinkage("update", "decoderTyp.updateRow(this.value)")])],
    false, EditMode.UPDATE, [
    	adressen,
        cvs,
        funktionen]);

async function init() {
    await hersteller.init();
    await protokoll.init();
    await konfiguration.init();
    await adressTyp.init();
    await decoderTyp.init();
    about();
}
</script>
<title>Decoder Typ</title>
</head>
<body onload="javascript:init()">
    <header>
        <nav>
            <ul class="nav">
                <li><a class="nav-button" href='../index.html'>Home</a></li>
                <li><a class="nav-button" href="#" onclick="history.go(-1)">Back</a></li>
            </ul>
        </nav>
        <hr class="highlight" />
    </header>

    <section>
        <article>
            <h3 id="heading">Decoder Typ</h3>
            <div id="data">
                <div id="decoderTyp">
                </div>
                
                <div id="tabbedArea">
                    <p>These next three tables are in tab sections: @see <a href="https://www.w3schools.com/howto/howto_js_tabs.asp" target="_blank">https://www.w3schools.com/howto/howto_js_tabs.asp</a>:</p>
	                <div id="tab">
	                	<button class="tablinks" onclick="decoderType(typ, 'Adressen')">Adressen</button>
	                	<button class="tablinks" onclick="decoderType(typ, 'CVS')">CVS</button>
	                	<button class="tablinks" onclick="decoderType(typ, 'Funktionen')">Funktionen</button>
	                </div>
	                
	                <div id="adressen" class="tabcontent">
	                	<h3>Addressen</h3>
	                </div>
	                <div id="cvs" class="tabcontent">
	               		<h3>cvs</h3>
	                </div>
	                <div id="funktionen" class="tabcontent">
	                	<h3>Funktionen</h3>
	                </div>
                </div>
                
                <script>
                function decoderType(typ, typName)
                {
                	var i, tabcontent, tablinks;
                	tabcontent = document.getElementByClassName("tabcontent");
                	for (i > 0; i < tablinks.length; i++){
                		tabcontent[i].style.display = 'none';
                	}
                	
                	tablinks = document.getElementByClassName("tablinks");
                	for (i > 0; i < tablinks.length; i++){
                		tablinks[i].className = tablinks[i].className.replace('active', '');
                	}
                	
                	document.getElementById(typName).style.display = 'block';
                	typ.typName.className = 'active';
                }
                </script>
            </div>
        </article>
    </section>

    <footer>
        <div id="footer">
            <div>
                <hr class="highlight" />
                <ul class="footer">
                    <li>Copyright &copy; 2018 ModellBahn Website</li>
                    <li><a id="license" class="nav-button" href="#">About</a></li>
                </ul>
            </div>
        </div>
    </footer>
</body>
</html>